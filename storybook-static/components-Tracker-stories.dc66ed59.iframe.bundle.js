/*! For license information please see components-Tracker-stories.dc66ed59.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkshiftloop_react=self.webpackChunkshiftloop_react||[]).push([["components-Tracker-stories"],{"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./src/components/Tracker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./src/components/Tracker.css"),__webpack_require__("./node_modules/react/jsx-runtime.js"));const Tracker=({peopleList,dailySchedule,useNext12Months,startDate})=>{const chartGridWrapperRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{chartGridWrapperRef.current&&generateChart()},[peopleList,dailySchedule,useNext12Months,startDate]);const generateChart=()=>{if(!chartGridWrapperRef.current||!peopleList.length)return void(chartGridWrapperRef.current.innerHTML="");chartGridWrapperRef.current.innerHTML="";const dayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthHeader=document.createElement("div");monthHeader.className="month-header";const chartGrid=document.createElement("div");let chartStartDate,chartEndDate;chartGrid.className="chart-grid";const currentStartDate=new Date(startDate);if(useNext12Months){chartStartDate=new Date(currentStartDate);const dayOfWeek=chartStartDate.getDay();chartStartDate.setDate(chartStartDate.getDate()-dayOfWeek),chartEndDate=new Date(chartStartDate),chartEndDate.setDate(chartStartDate.getDate()+371)}else chartStartDate=new Date(currentStartDate.getFullYear(),0,1),chartEndDate=new Date(currentStartDate.getFullYear()+1,0,0);const monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months=[];let currentMonth=new Date(chartStartDate);for(;currentMonth<chartEndDate;){const monthIndex=currentMonth.getMonth(),year=currentMonth.getFullYear(),monthStart=new Date(year,monthIndex,1),monthEnd=new Date(year,monthIndex+1,0),startWeek=Math.floor((monthStart-chartStartDate)/6048e5),endWeek=Math.min(Math.floor((monthEnd-chartStartDate)/6048e5),52);startWeek<53&&endWeek>=0&&months.push({name:monthNames[monthIndex]+(year!==currentStartDate.getFullYear()?` '${year.toString().substr(2)}`:""),startWeek:Math.max(0,startWeek),endWeek,weeks:endWeek-Math.max(0,startWeek)+1}),currentMonth.setMonth(currentMonth.getMonth()+1)}for(const monthInfo of months){const monthLabel=document.createElement("div");monthLabel.className="month-label",monthLabel.textContent=monthInfo.name,monthLabel.style.width=1.8867924528301887*monthInfo.weeks+"%",monthHeader.appendChild(monthLabel)}chartGridWrapperRef.current.appendChild(monthHeader),chartGridWrapperRef.current.appendChild(chartGrid);for(let dayOfWeekIndex=0;dayOfWeekIndex<7;dayOfWeekIndex++){const dayLabel=document.createElement("div");dayLabel.className="day-label",dayLabel.textContent=dayNames[dayOfWeekIndex],chartGrid.appendChild(dayLabel);for(let week=0;week<53;week++){const currentDate=new Date(chartStartDate);currentDate.setDate(chartStartDate.getDate()+7*week+dayOfWeekIndex);const dayBox=document.createElement("div");dayBox.className="day-box";const formattedDate=`${currentDate.getFullYear()}-${String(currentDate.getMonth()+1).padStart(2,"0")}-${String(currentDate.getDate()).padStart(2,"0")}`;if(currentDate<currentStartDate){dayBox.classList.add("gray-out");const tooltip=document.createElement("span");tooltip.className="tooltip",tooltip.textContent=formattedDate,dayBox.appendChild(tooltip)}else{const scheduleIndex=Math.floor((currentDate-currentStartDate)/864e5);if(scheduleIndex<365&&void 0!==dailySchedule[scheduleIndex]){const onCallPersonIndex=dailySchedule[scheduleIndex];if(-1!==onCallPersonIndex&&peopleList[onCallPersonIndex]){dayBox.style.backgroundColor=peopleList[onCallPersonIndex].color;const tooltip=document.createElement("span");tooltip.className="tooltip",tooltip.textContent=`${peopleList[onCallPersonIndex].name} (${formattedDate})`,dayBox.appendChild(tooltip)}}}chartGrid.appendChild(dayBox)}}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"tracker-chart-container w-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("h2",{className:"h4 mb-3",children:useNext12Months?"Next 12 Months Call Chart":"Annual Call Chart"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{ref:chartGridWrapperRef})]})};Tracker.displayName="Tracker";const __WEBPACK_DEFAULT_EXPORT__=Tracker;Tracker.__docgenInfo={description:"",methods:[],displayName:"Tracker"}},"./src/components/Tracker.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomColors:()=>CustomColors,Default:()=>Default,Empty:()=>Empty,LargeTeam:()=>LargeTeam,LongShifts:()=>LongShifts,MidYearStart:()=>MidYearStart,Next12Months:()=>Next12Months,ShortShifts:()=>ShortShifts,SmallTeam:()=>SmallTeam,SoloWorker:()=>SoloWorker,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Tracker",component:__webpack_require__("./src/components/Tracker.js").default,parameters:{layout:"padded"},tags:["autodocs"],argTypes:{peopleList:{control:"object",description:"Array of team members with names and colors"},dailySchedule:{control:"object",description:"Array of person indices for each day of the year"},useNext12Months:{control:"boolean",description:"Whether to show next 12 months or current year"},startDate:{control:"date",description:"Start date for the schedule"}}},samplePeople=[{id:1,name:"Alice",color:"#E69F00"},{id:2,name:"Bob",color:"#56B4E9"},{id:3,name:"Charlie",color:"#009E73"},{id:4,name:"Diana",color:"#F0E442"}],generateDailySchedule=(peopleCount,shiftLength=7)=>{const schedule=[];for(let day=0;day<365;day++){const personIndex=Math.floor(day/shiftLength)%peopleCount;schedule.push(personIndex)}return schedule},Default={args:{peopleList:samplePeople,dailySchedule:generateDailySchedule(4,7),useNext12Months:!1,startDate:"2024-01-01"}},Next12Months={args:{peopleList:samplePeople,dailySchedule:generateDailySchedule(4,7),useNext12Months:!0,startDate:(new Date).toISOString().split("T")[0]}},SmallTeam={args:{peopleList:[{id:1,name:"Alice",color:"#E69F00"},{id:2,name:"Bob",color:"#56B4E9"}],dailySchedule:generateDailySchedule(2,7),useNext12Months:!1,startDate:"2024-01-01"}},LargeTeam={args:{peopleList:[{id:1,name:"Alice",color:"#E69F00"},{id:2,name:"Bob",color:"#56B4E9"},{id:3,name:"Charlie",color:"#009E73"},{id:4,name:"Diana",color:"#F0E442"},{id:5,name:"Eve",color:"#0072B2"},{id:6,name:"Frank",color:"#D55E00"}],dailySchedule:generateDailySchedule(6,7),useNext12Months:!1,startDate:"2024-01-01"}},ShortShifts={args:{peopleList:samplePeople,dailySchedule:generateDailySchedule(4,3),useNext12Months:!1,startDate:"2024-01-01"}},LongShifts={args:{peopleList:samplePeople,dailySchedule:generateDailySchedule(4,14),useNext12Months:!1,startDate:"2024-01-01"}},SoloWorker={args:{peopleList:[{id:1,name:"Solo Worker",color:"#E69F00"}],dailySchedule:new Array(365).fill(0),useNext12Months:!1,startDate:"2024-01-01"}},Empty={args:{peopleList:[],dailySchedule:[],useNext12Months:!1,startDate:"2024-01-01"}},MidYearStart={args:{peopleList:samplePeople,dailySchedule:generateDailySchedule(4,7),useNext12Months:!1,startDate:"2024-06-15"}},CustomColors={args:{peopleList:[{id:1,name:"Red Team",color:"#DC3545"},{id:2,name:"Green Team",color:"#28A745"},{id:3,name:"Blue Team",color:"#007BFF"},{id:4,name:"Purple Team",color:"#6F42C1"}],dailySchedule:generateDailySchedule(4,7),useNext12Months:!1,startDate:"2024-01-01"}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: samplePeople,\n    dailySchedule: generateDailySchedule(4, 7),\n    useNext12Months: false,\n    startDate: '2024-01-01'\n  }\n}",...Default.parameters?.docs?.source}}},Next12Months.parameters={...Next12Months.parameters,docs:{...Next12Months.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: samplePeople,\n    dailySchedule: generateDailySchedule(4, 7),\n    useNext12Months: true,\n    startDate: new Date().toISOString().split('T')[0]\n  }\n}",...Next12Months.parameters?.docs?.source}}},SmallTeam.parameters={...SmallTeam.parameters,docs:{...SmallTeam.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: [{\n      id: 1,\n      name: 'Alice',\n      color: '#E69F00'\n    }, {\n      id: 2,\n      name: 'Bob',\n      color: '#56B4E9'\n    }],\n    dailySchedule: generateDailySchedule(2, 7),\n    useNext12Months: false,\n    startDate: '2024-01-01'\n  }\n}",...SmallTeam.parameters?.docs?.source}}},LargeTeam.parameters={...LargeTeam.parameters,docs:{...LargeTeam.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: [{\n      id: 1,\n      name: 'Alice',\n      color: '#E69F00'\n    }, {\n      id: 2,\n      name: 'Bob',\n      color: '#56B4E9'\n    }, {\n      id: 3,\n      name: 'Charlie',\n      color: '#009E73'\n    }, {\n      id: 4,\n      name: 'Diana',\n      color: '#F0E442'\n    }, {\n      id: 5,\n      name: 'Eve',\n      color: '#0072B2'\n    }, {\n      id: 6,\n      name: 'Frank',\n      color: '#D55E00'\n    }],\n    dailySchedule: generateDailySchedule(6, 7),\n    useNext12Months: false,\n    startDate: '2024-01-01'\n  }\n}",...LargeTeam.parameters?.docs?.source}}},ShortShifts.parameters={...ShortShifts.parameters,docs:{...ShortShifts.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: samplePeople,\n    dailySchedule: generateDailySchedule(4, 3),\n    useNext12Months: false,\n    startDate: '2024-01-01'\n  }\n}",...ShortShifts.parameters?.docs?.source}}},LongShifts.parameters={...LongShifts.parameters,docs:{...LongShifts.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: samplePeople,\n    dailySchedule: generateDailySchedule(4, 14),\n    useNext12Months: false,\n    startDate: '2024-01-01'\n  }\n}",...LongShifts.parameters?.docs?.source}}},SoloWorker.parameters={...SoloWorker.parameters,docs:{...SoloWorker.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: [{\n      id: 1,\n      name: 'Solo Worker',\n      color: '#E69F00'\n    }],\n    dailySchedule: new Array(365).fill(0),\n    useNext12Months: false,\n    startDate: '2024-01-01'\n  }\n}",...SoloWorker.parameters?.docs?.source}}},Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: [],\n    dailySchedule: [],\n    useNext12Months: false,\n    startDate: '2024-01-01'\n  }\n}",...Empty.parameters?.docs?.source}}},MidYearStart.parameters={...MidYearStart.parameters,docs:{...MidYearStart.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: samplePeople,\n    dailySchedule: generateDailySchedule(4, 7),\n    useNext12Months: false,\n    startDate: '2024-06-15'\n  }\n}",...MidYearStart.parameters?.docs?.source}}},CustomColors.parameters={...CustomColors.parameters,docs:{...CustomColors.parameters?.docs,source:{originalSource:"{\n  args: {\n    peopleList: [{\n      id: 1,\n      name: 'Red Team',\n      color: '#DC3545'\n    }, {\n      id: 2,\n      name: 'Green Team',\n      color: '#28A745'\n    }, {\n      id: 3,\n      name: 'Blue Team',\n      color: '#007BFF'\n    }, {\n      id: 4,\n      name: 'Purple Team',\n      color: '#6F42C1'\n    }],\n    dailySchedule: generateDailySchedule(4, 7),\n    useNext12Months: false,\n    startDate: '2024-01-01'\n  }\n}",...CustomColors.parameters?.docs?.source}}};const __namedExportsOrder=["Default","Next12Months","SmallTeam","LargeTeam","ShortShifts","LongShifts","SoloWorker","Empty","MidYearStart","CustomColors"]}}]);